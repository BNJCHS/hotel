{% extends 'base.html' %}
{% load static %}

{% block title %}Planes y Promociones{% endblock %}

{% block content %}
<div class="container mx-auto p-4">

    <!-- PLANES -->
    <h1 class="text-3xl font-bold mb-6">Planes Disponibles</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-12">
        {% for plan in planes %}
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold mb-2">{{ plan.nombre }}</h2>
            {% if plan.imagen %}
                <img src="{{ plan.imagen.url }}" alt="{{ plan.nombre }}" class="w-full max-w-md mb-2 rounded-lg">
            {% endif %}
            <p class="mb-2"><strong>Habitación incluida:</strong> {{ plan.habitacion.numero }}</p>
            <p class="mb-2"><strong>Precio:</strong> ${{ plan.precio }}</p>
            <p class="mb-2"><strong>Descripción:</strong> {{ plan.descripcion|truncatewords:20 }}</p>

            <div class="flex gap-2 mt-2">
                <a href="{% url 'detalle_plan' plan.id %}"
                   class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
                   Ver más
                </a>
                <a href="{% url 'reservar_plan' plan.id %}"
                   class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">
                   Seleccionar Plan
                </a>
            </div>
        </div>
        {% empty %}
        <p>No hay planes disponibles.</p>
        {% endfor %}
    </div>

    <!-- PROMOCIONES -->
    <h1 class="text-3xl font-bold mb-6">Promociones Disponibles</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        {% for promo in promociones %}
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold mb-2">{{ promo.nombre }}</h2>
            {% if promo.imagen %}
                <img src="{{ promo.imagen.url }}" alt="{{ promo.nombre }}" class="w-full max-w-md mb-2 rounded-lg">
            {% endif %}
            <p class="mb-2"><strong>Descuento:</strong> {{ promo.descuento }}%</p>
            <p class="mb-2"><strong>Descripción:</strong> {{ promo.descripcion|truncatewords:20 }}</p>
            <p class="mb-2"><strong>Válido desde:</strong> {{ promo.fecha_inicio }} hasta {{ promo.fecha_fin }}</p>

            <div class="flex gap-2 mt-2">
                <a href="{% url 'promocion_detalle' promo.id %}"
                   class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
                   Ver más
                </a>
                <a href="{% url 'reservar_promocion' promo.id %}"
                   class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                   Seleccionar Promoción
                </a>
            </div>
        </div>
        {% empty %}
        <p>No hay promociones disponibles.</p>
        {% endfor %}
    </div>

</div>
{% endblock %}
