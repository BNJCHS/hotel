{% extends "administracion/base_admin.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h2 class="mb-4">Dashboard</h2>

<div class="row g-3">
  <div class="col-md-3">
    <div class="card kpi-card text-white">
      <div class="card-body">
        <div class="kpi-title">Reservas</div>
        <div class="kpi-value">{{ total_reservas }}</div>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card kpi-card alt text-white">
      <div class="card-body">
        <div class="kpi-title">Ingresos</div>
        <div class="kpi-value">${{ total_ingresos }}</div>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card kpi-card text-white">
      <div class="card-body">
        <div class="kpi-title">Clientes</div>
        <div class="kpi-value">{{ total_clientes }}</div>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card kpi-card alt text-white">
      <div class="card-body">
        <div class="kpi-title">Empleados</div>
        <div class="kpi-value">{{ total_empleados }}</div>
      </div>
    </div>
  </div>
</div>
<div class="col-xl-3 col-md-6 mb-4">
    <div class="stats-card bg-info text-white shadow">
        <div class="card-body">
            <h5 class="card-title">Habitaciones</h5>
            <p class="card-text">Gestiona tipos y stock de habitaciones.</p>
            <a href="{% url 'habitaciones_list' %}" class="btn btn-light btn-sm">Ver</a>
        </div>
    </div>
<div class="card mt-4 shadow-sm">
  <div class="card-header bg-dark text-white">
    Últimas Reservas
  </div>
  
</div>
  <div class="card-body">
    {% if reservas %}
      <table class="table table-sm">
        <thead>
          <tr><th>Cliente</th><th>Habitación</th><th>Fecha</th><th>Monto</th></tr>
        </thead>
        <tbody>
          {% for r in reservas %}
            <tr>
              <td>{{ r.huesped }}</td>
              <td>{{ r.habitacion }}</td>
              <td>{{ r.fecha_reserva }}</td>
              <td>${{ r.monto }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="mb-0 text-muted">Aún no hay datos de reservas recientes.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
